#
# This is template for each component of SciDB for creating multiple packages
#

include(CPackConfig.cmake)
set(CMAKE_PROJECT_NAME "@CONFIGURE_CMAKE_PROJECT_NAME@")
set(COMPONENT "@CONFIGURE_COMPONENT@")
set(CPACK_PACKAGE_NAME ${COMPONENT})
set(CMAKE_BUILD_TYPE "@CONFIGURE_CMAKE_BUILD_TYPE@")
set(DISTRO_NAME_VER "@CONFIGURE_DISTRO_NAME_VER@")
set(COMPONENT_DEPS "@CONFIGURE_COMPONENT_DEPS@")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "@CONFIGURE_PACKAGE_SUMMARY@")
set(CPACK_PACKAGE_DESCRIPTION "@CONFIGURE_PACKAGE_DESCRIPTION@")

if ("${CPACK_GENERATOR}" STREQUAL "DEB")
    set(CPACK_PACKAGE_FILE_NAME 
        "${CPACK_PACKAGE_NAME}-${CMAKE_BUILD_TYPE}-${CPACK_PACKAGE_VERSION}-${DISTRO_NAME_VER}-${CPACK_DEBIAN_PACKAGE_ARCHITECTURE}")
    set(CPACK_DEBIAN_PACKAGE_DEPENDS "${COMPONENT_DEPS}")
endif ("${CPACK_GENERATOR}" STREQUAL "DEB")

if ("${CPACK_GENERATOR}" STREQUAL "RPM")
    set(CPACK_PACKAGE_FILE_NAME 
        "${CPACK_PACKAGE_NAME}-${CMAKE_BUILD_TYPE}-${CPACK_PACKAGE_VERSION}-${DISTRO_NAME_VER}-${CPACK_RPM_PACKAGE_ARCHITECTURE}")
    set(CPACK_RPM_PACKAGE_REQUIRES "${COMPONENT_DEPS}")
endif ("${CPACK_GENERATOR}" STREQUAL "RPM")

set(CPACK_INSTALL_CMAKE_PROJECTS ".;${COMPONENT};${COMPONENT};/")

